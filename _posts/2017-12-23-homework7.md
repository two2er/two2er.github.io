---  
title: 系统分析与设计 homework3  
tags: 博客  
---  
  
## 1. 领域建模  
  
### a. 阅读 Asg_RH 文档，按用例构建领域模型。  
> 按 Task2 要求，请使用工具 UMLet，截图格式务必是 png 并控制尺寸  
说明：请不要受 PCMEF 层次结构影响。你需要识别实体（E）和 中介实体（M，也称状态实体）  
在单页面应用（如 vue）中，E 一般与数据库构建有关， M 一般与 store 模式 有关  
在 java web 应用中，E 一般与数据库构建有关， M 一般与 session 有关  
  
![asg_RH][1]  
  
### b. 数据库建模(E-R 模型)  
  
- 按 Task 3 要求，给出系统的 E-R 模型（数据逻辑模型）  
  
![db][2]  
  
- 导出 Mysql 物理数据库的脚本  
```  
-- +---------------------------------------------------------  
-- | MODEL       :  
-- | AUTHOR      :  
-- | GENERATED BY: Open System Architect  
-- +---------------------------------------------------------  
-- | WARNING     : Review before execution  
-- +---------------------------------------------------------  
  
-- +---------------------------------------------------------  
-- | CREATE  
-- +---------------------------------------------------------  
CREATE TABLE `Account`  
(  
account_id INTEGER NOT NULL,  
username VARCHAR(8) NOT NULL,  
password VARCHAR(16),  
PRIMARY KEY (account_id)  
);  
  
CREATE TABLE `Location`  
(  
location_id INTEGER NOT NULL,  
location_name VARCHAR(16) NOT NULL,  
hot TINYINT,  
PRIMARY KEY (location_id)  
);  
  
CREATE TABLE `Hotel`  
(  
hotel_id INTEGER NOT NULL,  
hotel_name VARCHAR(16) NOT NULL,  
location_id INTEGER NOT NULL,  
star TINYINT,  
location_id INTEGER NOT NULL,  
PRIMARY KEY (hotel_id)  
);  
  
CREATE INDEX idxHotel1 ON Hotel  
(  
location_id  
);  
  
CREATE TABLE `Room`  
(  
room_id INTEGER NOT NULL,  
type TINYINT,  
list_price INTEGER NOT NULL,  
isAvaliable BIT NOT NULL,  
hotel_id INTEGER NOT NULL,  
date VARCHAR(16) NOT NULL,  
hotel_id INTEGER NOT NULL,  
PRIMARY KEY (room_id)  
);  
  
CREATE INDEX idxRoom1 ON Room  
(  
hotel_id  
);  
  
CREATE TABLE `ReservationRecord`  
(  
record_id INTEGER NOT NULL,  
account_id INTEGER NOT NULL,  
room_id INTEGER NOT NULL,  
date VARCHAR(16) NOT NULL,  
pay_way VARCHAR(8) NOT NULL,  
account_id INTEGER NOT NULL,  
room_id INTEGER NOT NULL,  
PRIMARY KEY (record_id)  
);  
  
CREATE INDEX idxReservationRecord1 ON ReservationRecord  
(  
account_id  
);  
```  
  
- 简单叙说 数据库逻辑模型 与 领域模型 的异同  
相同点：在“实体”的概念上有相似点，都描述了实体间的关系，每个实体有对应的属性  
不同点：数据库逻辑模型更加具体，有属性的类型，主键等约束信息，在局部方面表达能力更强。而领域模型则关注了中间实体的信息，在全部方面表达能力更强。  
  
[1]: ../img/0427_1.png  
[2]: ../img/0427_2.png  
